# Generated configuration file
TYPE=Ethernet
ONBOOT=on
{% if dhcp %}
BOOTPROTO=dhcp
{% else %}
DEVICE={{ iface.name | std.cm("interface_name", "host") }}
NM_CONTROLLER=no
BOOTPROTO=none
HWADDR={{ iface.mac | std.cm("interface_mac", "host") }}
IPADDR={{ ipaddress | std.cm("interface_ip", "host") }}
NETMASK={{ netmask | std.cm("interface_netmask", "host") }}
{% endif %}

# DNS configuration
PEERDNS=no
{% if iface.host.infrastructure %}
{% for server in iface.host.infrastructure.nameservers %}
DNS{{ loop.index }}={{ server.host.ip | std.cm("dns server", "net" ) }}
DNS2=8.8.8.8
{% endfor %}
{% else %}
DNS1=8.8.8.8
DNS2=8.8.4.4
{% endif %}
